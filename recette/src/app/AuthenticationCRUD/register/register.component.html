<app-header></app-header>
<div class="d-flex align-items-center mb-4" style="position: fixed; top: 100px; right: -160px; width: 30%;">
  <i class="bx bx-search me-2"></i>

</div>
<button type="button" class="btn btn-success "  style="width: 200px; height: 50px; margin-left: 1140px; margin-top:10px; margin-bottom: 10px;"
        routerLink="/adduser"> Ajouter Utilisateur</button>
<div class="container" id="main-container" style="margin-left: 140px;" >
  <div class="row" >
    <div class="col-md-12">
      <div class="card shadow mb-4">

        <div class="card-header py-3" style="background-color: #f3ac2c;">
          <h6 style="color:white;font-size: 17px;">Liste des Utilisateurs</h6>
          <div class="col-md-3 col-sm-5" style="margin-left:750px;margin-top:-35px;margin-bottom:-20px;">
            <form method="get" role="form" class="search-form-full">
              <div class="form-group" >
                <input type="search" (ngModelChange)="searchEmployees(key.value)" #key="ngModel" ngModel name="key" id="searchName" class="form-control mr-sm-2" style="width: 105%; max-width: 500px;margin-left: -10%" placeholder="Recherche des utilisateurs..." required>

                <i class="entypo-search"></i>
              </div>
            </form>
          </div>
        </div>
      <table class="table table-hover" >
        <thead>
        <tr>
          <th>Nom</th>
          <th>PrÃ©nom</th>
          <th>Role</th>
          <th></th>

        </tr>
        </thead>
        <tbody class="tbody">
        <tr *ngFor="let user of users">
          <td>{{user.firstname}}</td>
          <td>{{user.lastname}}</td>
          <td>{{user.role}}</td>

          <td style="width:150px;">
          <a *ngIf="user.role!=='ADMIN'" (click)="updateEmployee(user.id)" class="btn btn-light " data-placement="top" data-original-title="Edit"><i class="fa fa-pencil " style="color:#f3ac2c"></i> </a>
            <a *ngIf="user.role!=='ADMIN'" (click)="deleteuserr(user.id)" class="btn btn-danger " data-placement="top" data-original-title="delete"><i class="fa fa-trash" ></i>
            </a>
          </td>


        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
<!-- Notification for no employees -->
<div *ngIf="users?.length == 0" class="col-lg-12 col-md-12 col-xl-12">
  <div class="alert alert-info" role="alert">
    <h4 class="alert-heading">Pas d'utilisateurs!</h4>
    <p>No Users were found.</p>
  </div>
</div>




